<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>payments</title>
    <link rel="stylesheet" href="payment.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/cartpage/address.css">
    <link rel="stylesheet" href="/cartpage/checkout.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/f205abf1eb.js" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/f205abf1eb.js" crossorigin="anonymous"></script>

</head>
<body>
    <!-- navbar -->

    <nav class="bg-light">
        <div>
            <!-- brand and location -->
            <div>
                <img src="./svg/logo.svg" alt="fraazo">
            </div>
            <div>
                <button class="btn">
                    <i class="fa-solid fa-location-dot"></i>
                    <span>Current Location</span>
                </button>
            </div>
        </div>
        <div>
            <!-- search bar -->
            <input type="text" class="py-2 px-3 rounded-pill border border-2 text-secondary fw-light fs-6" placeholder="Find fresh vegetables, fruits and dairy...">
        </div>
        <div>
            <div>
                <i class="fa-solid fa-cart-shopping"></i>
                <p class="mb-0">Cart</p>
            </div>
            <div>
                <i class="fa-solid fa-wallet"></i>
                <p class="mb-0">Credits</p>
            </div>
            <div>
                <i class="fa-solid fa-user"></i>
                <p class="mb-0">Login</p>
            </div>
        </div>

    </nav>
<!-- navabr end -->


<div id="cart_status"></div>


    <div id="main_payment">
        <div id="payment_part">
            <div id="payment_method">
                <div  id="upi" >UPI-Payment</div>
                <div  id="net_banking">Net -Bnaking</div>
                <div  id="card">card-Payments</div>
                <div  id="Cash">Cash</div>
                <div  id="wallet">wallet</div>
            </div>
            <div id="payment_collecting"></div>
        </div>
        <div id="bill_data"></div>
    </div>
    </div>



    <div>footer</div>
</body>
</html>
<script>
    var total_price=JSON.parse(localStorage.getItem("total_price"))

    var tot_pay_box=document.createElement("div")
    tot_pay_box.style.fontWeight="bolder"
    tot_pay_box.innerText= "Total payment-" +total_price;
    document.querySelector("#payment_collecting").append(tot_pay_box)

    document.querySelector("#upi").addEventListener("click",function(){
        document.querySelector("#payment_collecting").innerHTML=null;
        var pay_box=document.createElement("div")
        pay_box.setAttribute("class","pay_styl")
        var plable=document.createElement("p")
        plable.innerText="ENTER UPI ID"
        var col_upiid=document.createElement("input");
        col_upiid.placeholder="abc@upi"
        
        var conf_pay_box=document.createElement("div")
        var makepayment=document.createElement("p")
        makepayment.innerText="PAY"+" "+total_price
        conf_pay_box.setAttribute("class","make_pay")
        conf_pay_box.append(makepayment)
        conf_pay_box.style.cursor="pointer"
        conf_pay_box.addEventListener("click",function(){
            console.log("payment succesfull")
            placeorder()
        })

        pay_box.append(tot_pay_box,plable,col_upiid,conf_pay_box)
        document.querySelector("#payment_collecting").append(pay_box,)
    })

    document.querySelector("#wallet").addEventListener("click",function(){
        document.querySelector("#payment_collecting").innerHTML=null;
        var pay_box=document.createElement("div")
        var wallet_box=document.createElement("div")
        wallet_box.setAttribute("id","wallet_box")

        pay_box.setAttribute("class","pay_styl")

        var wallet_img=document.createElement("div")
        var mobike=document.createElement("img")
        mobike.setAttribute("src","https://cdn.razorpay.com/wallet-sq/mobikwik.png")
        wallet_img.append(mobike)

        var paytmwallet_img=document.createElement("div")
        var paytm=document.createElement("img")
        paytm.setAttribute("src","https://cdn.razorpay.com/wallet-sq/paytm.png")
        paytmwallet_img.append(paytm)
        
        var amazonmwallet_img=document.createElement("div")
        var amazon=document.createElement("img")
        amazon.setAttribute("src","https://cdn.razorpay.com/wallet-sq/amazonpay.png")
        amazonmwallet_img.append(amazon)

        var phonepemwallet_img=document.createElement("div")
        var phonepe=document.createElement("img")
        phonepe.setAttribute("src","https://cdn.razorpay.com/wallet-sq/mobikwik.png")
        phonepemwallet_img.append(phonepe)

        wallet_box.append(phonepemwallet_img,amazonmwallet_img,paytmwallet_img,wallet_img)



        var conf_pay_box=document.createElement("div")
        conf_pay_box.setAttribute("class","make_pay")
        var makepayment=document.createElement("p")
        makepayment.innerText="PAY"+" "+total_price
        conf_pay_box.append(makepayment)
        conf_pay_box.setAttribute("class","make_pay")
        conf_pay_box.style.cursor="pointer"
        conf_pay_box.addEventListener("click",function(){
            console.log("payment succesfull")
            placeorder()
        })

        pay_box.append(tot_pay_box,wallet_box,conf_pay_box)
        document.querySelector("#payment_collecting").append(pay_box,)
    })



    document.querySelector("#net_banking").addEventListener("click",function(){
        document.querySelector("#payment_collecting").innerHTML=null;
        var pay_box=document.createElement("div")
        var plable=document.createElement("p")
        plable.innerText="Enter Bank Name"
        var col_upiid=document.createElement("input");
        col_upiid.placeholder="state bank of india"
        
        pay_box.setAttribute("class","pay_styl")

        var conf_pay_box=document.createElement("div")
        var makepayment=document.createElement("p")
        makepayment.innerText="PAY"+" "+total_price
        conf_pay_box.append(makepayment)
        conf_pay_box.setAttribute("class","make_pay")

        conf_pay_box.style.cursor="pointer"
        conf_pay_box.addEventListener("click",function(){
            console.log("payment succesfull")
            placeorder()
        })

        pay_box.append(tot_pay_box,plable,col_upiid,conf_pay_box)
        document.querySelector("#payment_collecting").append(pay_box,)
    })

    document.querySelector("#card").addEventListener("click",function(){
        document.querySelector("#payment_collecting").innerHTML=null;
        var pay_box=document.createElement("div")

        var card_number=document.createElement("div")
        var plable=document.createElement("p")
        plable.innerText="Card Number"
        var col_upiid=document.createElement("input");
        card_number.append(plable,col_upiid)

        pay_box.setAttribute("class","pay_styl")

        var expir_cvv_box=document.createElement("div")

        var expirebox=document.createElement("div")
        var exipre_data=document.createElement("p")
        exipre_data.innerText="Expiry(MM/YY)";
        var expiry_iput=document.createElement("input")
        expirebox.append(exipre_data,expiry_iput)

        var cvv_box=document.createElement("div")
        var cvvleable=document.createElement("p")
        cvvleable.innerText="CVV"
        var cvv_input=document.createElement("input")
        cvv_box.append(cvvleable,cvv_input)

        expir_cvv_box.append(expirebox,cvv_box)

        var card_name_box=document.createElement("div")
        var card_name=document.createElement("p")
        card_name.innerText="Card Name"
        var input_card_name=document.createElement("input")
        card_name_box.append(card_name,input_card_name)

        
        
        var conf_pay_box=document.createElement("div")
        var makepayment=document.createElement("p")
        makepayment.innerText="PAY"+" "+total_price
        conf_pay_box.append(makepayment)
        conf_pay_box.setAttribute("class","make_pay")
        conf_pay_box.style.cursor="pointer"
        conf_pay_box.addEventListener("click",function(){
            console.log("payment succesfull")
            placeorder()
        })

        pay_box.append(tot_pay_box,card_number,expir_cvv_box,card_name_box,conf_pay_box)
        document.querySelector("#payment_collecting").append(pay_box,)
    })


    document.querySelector("#Cash").addEventListener("click",function(){
        document.querySelector("#payment_collecting").innerHTML=null;
        var pay_box=document.createElement("div")
        var show_box=document.createElement("div")
        show_box.style.display="flex"
        show_box.style.margin="auto"
        var img_box=document.createElement("img")
        img_box.setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAES0lEQVR4Xu2ay2sTQRzHv5NNNmnSJtH6AAVBRJDWBwhWTEDBm6kgKMWj9eTFo49/wFNvXkRP6knxptJ68eKhRQu+EMXXzVsfmvd7szIxMZtkszOb3Wy2ZfbQS2bm95vPfn+PmS6BeOoEiODwj4AA0VCCACFAtCcFoQihCKEI3UIpQkOEhggNRmjMzEjx2VwZgGdTdJsEvxYTC3t491LPEfH5hMo7YaONU6HOLU2/uMnym8SfJ+bgwXXWwI38++L0ArMokM2shubLU4Ha0vSCZPQyHQFRKZWRS2e6/CCEILJtqyNiY6lCF0T69x/UlNp/ByWvhLEtUdMOJ1fXuecMGkpfIPQ2EN0+zr0pMwA6Fw2GRyH7/dy2eAeaBlEqFFHI5rrWD0XG4JNlpl0rELSLmwHPdAqAaRB00X4VoTfv8m4f088v2RrepJSucXbCcAyEHoRP8SATgnbAocV823ifX0YoPGZqjV6D9fxTsuq2r1eX64msZ9VQqgpyqTRC0TAkybDyIJ/JolwsdflgFQRd0C5VGIXs59k3xJbyaWTk1v5W4ju3oxvo0xUFyykFz1aqPd+8HTAMc5eKO5ZB0P6A9gm8z9sTQcia00xnOOitM3AQRqHBuzEj0mZC4/yHIn7kWr2L1r7k9WJsS4TXJd1xrGpmWRG9DHgJ8D5mLVnaWU6HBoJuwowiLrwv4nteXxF2JM2BgqiWK8im0qYk2wmHJ0e4HkQxl0cxX+gJgqWIw4t58F6EWE2YA1WEUqkik0z1BeLkcgF/KrwYrPcTAwXRqx1vkvkYC8LTcSXyYq2KG9/4y21zLVcrggWC/v4uFoRPAyOvAMdft7fSPElmw4Ogm3x5bAQ75RYNGhFHl/hhyH4ZQYtnjoGHRilfQCHH3tSjIwEcHG2/IHeqYvAo13JDxWOkKf3bB/w4Pd5+3uCBYTUseHy0BUS1UkE2yddPXNrlw7W9rTsKFgg2BBXJ1d911sRDEBnXvwMdeGg03zbLkDYhxqIS7k3+O5UagaDnC3rOMHp4L5FY/tmiiH5gsCqFR5IQ3mp8Ydxrc3oqchQETyyyANDfvbIPo5Ewc6irQVDvabdJu85+HnZOaK1aqylIrye7zLhCEVqvWHLUjh0ZDcE/EjDNjiZpmqxZHSjLF1tzhNEucqkMKuX21joQGkEgaO7OwjSpxgTXgOh3A3bM4ynvJLZwZh9RyU87DLp1DZYa6j0I/ROfTzwGcNGtG7HiFw+E/yCahk7MJ856VPWU1nCpWLpmxZGhzFVV0H9d1mq9r/46/WJ+QDH54Dj/7clQdm2PUQGiwVGAECDaQ0ooglcRE/en7hJCrtiTkty7ClMR1PXNXjlUqE+4QBx4ODUuqWTNve/Tmmf17yPMLDHxYOoVATlpZo6bx7Z9MeNmR530zZQinHTMaVsCBG/5dPrNDMueUIRQhMkWe1hSddquCA0RGiI0dKNOhEYDy1/Nc9WulhceAwAAAABJRU5ErkJggg==")
        img_box.style.width="40px"
        img_box.style.height="40px"
        pay_box.setAttribute("class","pay_styl")


        var plable=document.createElement("p")
        plable.innerText="Please keep exact change to help us serve you better"

        show_box.append(img_box,plable)
        
        var conf_pay_box=document.createElement("div")
        var makepayment=document.createElement("button")
        makepayment.innerText="PAY"+" "+total_price
        conf_pay_box.append(makepayment)
        conf_pay_box.setAttribute("class","make_pay")
        conf_pay_box.style.cursor="pointer"
        conf_pay_box.addEventListener("click",function(){
            console.log("payment succesfull")
            
            placeorder()

        })

        pay_box.append(tot_pay_box,show_box,conf_pay_box)
        document.querySelector("#payment_collecting").append(pay_box,)
    })
    
    var order_cart=JSON.parse(localStorage.getItem("order_cart")) || []

    var cart=JSON.parse(localStorage.getItem("cart"))
    // console.log(cart)
    function placeorder(){
       window.location.href="succesfull.html"
    }



    // document.querySelector("conf_pay_box").addEventListener("click",function(){

    //     orderconfirm()
    // })

    // function orderconfirm(){
    //     console.log("payment done")
    //     window.location.href("paymentdone.html")
    //     var cart=JSON.parse(localStorage.getItem("cart"))
    //     var dilevery_time=jso
    //     .
    //     var complet_cart_data={

    //     }
    // }
var total_price=JSON.parse(localStorage.getItem("total_price"))
console.log(total_price)
if(total_price>0){
    var discount=0.1;
    //price saving 
    var pricesaving=Math.floor(total_price*discount);
    //delivery charge
    var del_cahrge=30;
    //total_bill
    var total_bill=del_cahrge+total_price-pricesaving;
    // bill data 

   // bill data dispaly

//    <div>
//    <div ><img  src="https://cdn-icons-png.flaticon.com/512/34/34568.png" alt="img">----------</div>
//    <div ><img  src="" alt="img"></div>
//    <div ><img  src="" alt="img"></div>
//    <div ><img  src="" alt="img"></div>
// </div>
var img_status_box=document.createElement("div")
img_status_box.style.backgroundColor=" rgb(211, 255, 246)";
img_status_box.style.height="100px"
img_status_box.style.display="flex";
var img1_box=document.createElement("div")
var img1=document.createElement("img")
img1.setAttribute("src","")
img1_box.append(img1)
var img2_box=document.createElement("div")
var img2=document.createElement("img")
img1.setAttribute("src","")
img1_box.append(img1)

var img3_box=document.createElement("div")
var img3=document.createElement("img")
img1.setAttribute("src","")
img1_box.append(img1)

var img4_box=document.createElement("div")
var img4=document.createElement("img")
img1.setAttribute("src","")
img1_box.append(img1)

img_status_box.append(img1_box,img2_box,img3_box,img3_box,img4_box)
document.querySelector("#cart_status").append(img_status_box)

if(total_bill>0){
var coupan_code_box=document.createElement("div")
var bill_details=document.createElement("div")
var total_item_price=document.createElement("div")
total_item_price.setAttribute("class","price_box")

var price_saving=document.createElement("div")
price_saving.setAttribute("class","price_box")

var cart_amaount=document.createElement("div")
cart_amaount.setAttribute("class","price_box")

var delivery_charge=document.createElement("div")
delivery_charge.setAttribute("class","price_box")
var total_pay=document.createElement("div")
total_pay.setAttribute("class","price_box")

var payment_box=document.createElement("div")
payment_box.setAttribute("class","price_box")
payment_box.style.border="2px solid red"


// coupan_code_box
// var cuopuan_applied=document.createElement("div")
// cuopuan_applied.setAttribute("id","cuopuan_applied")
// var dis_logo=document.createElement("div")
// var dis_logo_img=document.createElement("img")
// dis_logo_img.style.width="30px"
// dis_logo_img.setAttribute("src","https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTohkmWAV7uayiY53-4TcYfYSOeMMMiGkzghg&usqp=CAU")
// dis_logo.append(dis_logo_img)

// //add code data Apply Coupon/Referral
// var coupan_code_text_box=document.createElement("div")
// coupan_code_text_box.style.cursor="pointer"

// coupan_code_text_box.addEventListener("click",function(){
//     checkcode()
// })
// var coupan_code_text=document.createElement("p")
// coupan_code_text.innerText="Apply Coupon/Referral";
// coupan_code_text_box.append(coupan_code_text);

// // add to > on 
// var arrow_box=document.createElement("div")
// var arrow_text_box=document.createElement("h5")
// arrow_text_box.innerText=">"
// arrow_box.append(arrow_text_box)

// cuopuan_applied.append(dis_logo,coupan_code_text_box,arrow_box)
// coupan_code_box.append(cuopuan_applied)

// bill_details
var bill_text=document.createElement("h4")
bill_text.innerText="Bill Details";
bill_details.append(bill_text)

//total price:

var total_item_price_box=document.createElement("div")
var total_item_cal_price=document.createElement("div")

var total_item_price_text=document.createElement("p")
total_item_price_text.innerText="Total Item Price";
total_item_price_box.append(total_item_price_text)

var total_item_cal_price_text=document.createElement("h5")
total_item_cal_price_text.innerText=total_price;
total_item_cal_price.append(total_item_cal_price_text)

total_item_price.append(total_item_price_box,total_item_cal_price)

//price saving text
var total_saving_price=document.createElement("div")
var total_price_saving=document.createElement("div")

var total_saving_price_text=document.createElement("p")
total_saving_price_text.innerText="Price Savings";
total_item_price_box.append(total_saving_price_text)

var total_item_cal_price_text=document.createElement("h5")
total_item_cal_price_text.innerText=-pricesaving
total_item_cal_price.append(total_item_cal_price_text)

total_item_price.append(total_item_price_box,total_item_cal_price);

//line break;
var hr1=document.createElement("hr")

//cart amount 
var cart_box_1=document.createElement("div")
var cart_box_2=document.createElement("div")
var cart_box_1_text=document.createElement("p")
cart_box_1_text.innerText="Cart Amount";
cart_box_1.append(cart_box_1_text)

var cart_box_2_text=document.createElement("h6")
cart_box_2_text.innerText=total_price-pricesaving;
cart_box_2.append(cart_box_2_text)

cart_amaount.append(cart_box_1,cart_box_2)

//delivery charge
var del_char_box1=document.createElement("div")
var del_char_box2=document.createElement("div")
var del_char_box1_text=document.createElement("p")
del_char_box1_text.innerText="Delivery Charges"
var del_char_box2_text=document.createElement("h6")
del_char_box2_text.innerText=del_cahrge
del_char_box1.append(del_char_box1_text)
del_char_box2.append(del_char_box2_text)
delivery_charge.append(del_char_box1,del_char_box2)

var hr2=document.createElement("hr")

// total pay

var pay_box1=document.createElement("div")
var pay_box2=document.createElement("div")
var pay_box3=document.createElement("div")
var pay_box1_text=document.createElement("p")
pay_box1_text.innerText="To Pay"
var pay_box2_text=document.createElement("p")
pay_box2_text.innerText="saving"+pricesaving
var pay_box3_text=document.createElement("p")
pay_box3_text.innerText=total_bill;
pay_box1.append(pay_box1_text)
pay_box2.append(pay_box2_text)
pay_box3.append(pay_box3_text)
total_pay.append(pay_box1,pay_box2,pay_box3)

///payment_box
var box1_payement=document.createElement("div")
var box2_payement=document.createElement("div")
var box1_1_text=document.createElement("p")
var box1_2_text=document.createElement("p")
box1_1_text.innerText="Total"
box1_2_text.innerText=total_bill;
box1_payement.append(box1_1_text,box1_2_text)

// var box_address=document.createElement("div")
var box_address_text=document.createElement("h6")
box_address_text.innerText="SELECT ADDRESS";
box_address_text.style.cursor="pointer"
box_address_text.addEventListener("click",function (){
    window.location.href="address.html"
})
box2_payement.append(box_address_text)
payment_box.append(box1_payement,box2_payement)

localStorage.setItem("total_bill_data",JSON.stringify(payment_box))
//append on scren 
var mainbil_box=document.createElement("div")

mainbil_box.style.margin="20px"
mainbil_box.append(bill_details,total_item_price,hr1,cart_amaount,delivery_charge,hr2,total_pay,payment_box)
document.querySelector("#bill_data").append(mainbil_box)
}
}
</script>
